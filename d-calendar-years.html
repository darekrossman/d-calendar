<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html"/>
<link rel="import" href="d-calendar-theme.html"/>
<link rel="import" href="d-date-utils.html"/>

<dom-module id="d-calendar-years">
   
    <style>
        #years {
            box-sizing: border-box;
            height: 300px;
            max-width: 100%;
            padding: 6px;
            overflow: auto;
          }
          .year {
            width: 33.3%;
            text-align: center;
            font-weight: 500;
            font-size: 14px;
            line-height: 36px;
          }
          .year paper-button {
            display: block;
            width: 100%;
            margin: 0;
          }
          paper-button::shadow #ripple {
            //color: {{g.dCalendar.accentColor}};
            color: #f44336;
          }
        
    </style>
    
    
  <template>
<!--    <iron-style ref="d-calendar-theme-years"></iron-style>-->
    <d-date-utils id="dateUtils"></d-date-utils>

    <div id="years" class= "horizontal layout wrap">
      <template is="dom-repeat" items="{{yearsArray}}">
        <div class="year horizontal center-justified layout"   hero?="{{compareStartViewing()}}" hero-id="poo">
          <paper-button data-year="{{incYear(item.year)}}" on-tap="yearSelected" recenteringTouch>{{incYear(item.year)}}</paper-button>
        </div>
      </template>
    </div>
  </template>



<script>


  Polymer({
    is: 'd-calendar-years',

    properties: {
      startYear: {
          type: Number,
          value: null
      },
      years:{
          type: Number,
          value: null
          
      },
      yearsArray: {
          type: Array,
          value: function() {return[];}
      },
      viewingYear:{
          type: Date,
          notify: true
      }
    },

    ready: function(){
      
      var now = this.viewingYear || new Date().getFullYear();
      this.startYear = this.startYear || now - 2;
      this.years = this.years || 15;
      this.yearsArray =[{year: 15},{year:16},{year:17}];
      //this.yearsArray.push({year: this.years});
      //console.log(this.yearsArray);
     
    },
    

    yearsChanged: function() {
      this.yearsArray = Array(this.years);
    },
    
    //Fire selected year to "d-calendar-year-selected"
    yearSelected: function(e, detail) {
      console.log(detail);
      this.fire('d-calendar-year-selected', {year: detail.sourceEvent.explicitOriginalTarget.data });
    },
    
    //increase year
    incYear: function(year){
        return this.startYear+year;
    },
    
    compareStartViewing: function(){
        
        if(this.startYear === this.viewingYear){
            return true;
        }else{
            return false;
        }
        
    }
    
    
  });

</script>
</dom-module>